Page({data:{preHtml:'<div>&nbsp;符号说明: <font color="darkred">Ｌ</font>:临时调课;&nbsp;&nbsp;<font color="blue">Ｇ</font>:固定调课;&nbsp;&nbsp;<font color="red">Κ</font>:考试;&nbsp;&nbsp;<font color="red">Ｘ</font>:锁定;&nbsp;&nbsp;<font color="red">Ｊ</font>:借用;&nbsp;&nbsp;<font color="black">◆</font>:正常上课;</div>',tagStyle:"font-size: 20rpx;",buildingInfo:[{"teachingBuildingName":"教十一楼","teachingBuildingId":"24",},{"teachingBuildingName":"教九楼B座","teachingBuildingId":"9",},{"teachingBuildingName":"教十楼B座","teachingBuildingId":"12",},{"teachingBuildingName":"教七楼","teachingBuildingId":"7",},{"teachingBuildingName":"教八楼","teachingBuildingId":"8",},{"teachingBuildingName":"实验综合楼","teachingBuildingId":"25",},{"teachingBuildingName":"教六楼","teachingBuildingId":"6",},{"teachingBuildingName":"教八楼B座","teachingBuildingId":"14",},{"teachingBuildingName":"教十楼A座","teachingBuildingId":"21",},{"teachingBuildingName":"教九楼A座","teachingBuildingId":"ADF483B2822E484E88732FDE64723786",},{"teachingBuildingName":"二校田径场","teachingBuildingId":"6F37EB994FBA4F7DAA539C86B6636785",},{"teachingBuildingName":"二校北体育场","teachingBuildingId":"F7F02B1C82E443BDA83D2AC44617761E",},{"teachingBuildingName":"体育中心","teachingBuildingId":"07FC85F824A34146A878E8793632A021",},{"teachingBuildingName":"文体中心","teachingBuildingId":"EE5D234664CF4F039496A43D32BEA196",},{"teachingBuildingName":"二校东篮球场","teachingBuildingId":"ED6DDE0F23F749AAA146C24AE62041A8",},{"teachingBuildingName":"虚拟考试楼","teachingBuildingId":"1523C53B471449C98F862F375F51F375",}],weekInfo:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],buildingIndex:0,weekIndex:0,postBuildingId:24,startDate:"2021/8/30",currentWeek:1,notifucationText:"当学校教务处需要校园网访问时,第一个页面失效,请连上校园网访问第二个页面",root:"https://dong12138.online/"},onLoad(){var that=this wx.request({url:that.data.root+'cur/getMain2.php',method:'GET',success(e){that.setData({notifucationText:e.data})}})},onShow(){var now=new Date();var subDay=(now-(Date.parse(this.data.startDate)))/(1000*60*60*24)var weekNow=parseInt(parseInt(subDay)/7)+1 this.setData({currentWeek:weekNow,weekIndex:weekNow-1})},bindPickerChange(e){this.setData({postBuildingId:this.data.buildingInfo[e.detail.value].teachingBuildingId,buildingIndex:e.detail.value})},bindweekPickerChange(e){this.setData({weekIndex:e.detail.value})},tabSubmit(e){var that=this wx.navigateTo({url:"../statu-classroom-list/statu-classroom?&week="+that.data.weekIndex+"&buildingId="+that.data.postBuildingId})}})