var a=require("../../libraries/httpRequest.js");Page({data:{},onLoad:function(a){this.setData({selectDayStr:a.selectDayStr,date:a.date,teachBuildingStr:a.teachBuildingStr,building:a.building,nodeName:a.nodeName,node:a.node})wx.setNavigationBarTitle({title:"查询空闲教室"})},onShow:function(){this.initData()},initData:function(){var i=this;this.showLoading();var b={date:this.data.date,node:this.data.node,building:this.data.building};var c="classroom.php";a.find(c,b,"POST").then(function(a){if(i.hideLoading(),a.code==1){if(0==a.data.length){var d={};d.state=1,d.image="../../images/schoolicon.png",d.msg="该教学楼没有空闲教室哦~",i.setData({empty:d,showEmpty:1})}i.setData({classroomList:a.data})}else wx.showToast({title:"服务器出错",icon:"none"})}).catch(function(){wx.showToast({title:'请检查你的网络连接',icon:'none'})i.hideLoading()})},showLoading:function(){wx.showNavigationBarLoading(),this.setData({subtitle:"加载中...",loading:!0})},hideLoading:function(){wx.hideNavigationBarLoading(),wx.stopPullDownRefresh(),this.setData({loading:!1})},hideMask:function(){var a=this.data.showMask;this.setData({showMask:!a})}});